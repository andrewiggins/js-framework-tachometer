function t(t){return Math.round(1e3*Math.random())%t}const e=document.createElement("tr");e.innerHTML="<td class='col-md-1'></td><td class='col-md-4'><a class='lbl'></a></td><td class='col-md-1'><a class='remove'><span class='remove glyphicon glyphicon-remove' aria-hidden='true'></span></a></td><td class='col-md-6'></td>";var n=1;function s(e=1e3){for(var s=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],a=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],l=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],i=[],d=0;d<e;d++)i.push({id:n++,label:s[t(s.length)]+" "+a[t(a.length)]+" "+l[t(l.length)]});return i}var a=function(t){for(;t;){if("TR"===t.tagName)return t.data_id;t=t.parentNode}};new class{constructor(){this.data=[],this.selectedRow=void 0;var t=document.getElementById("main");t.innerHTML='\n\t\t\t<div class="container">\n\t\t\t\t<div class="jumbotron">\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="col-md-6">\n\t\t\t\t\t\t\t<h1>VanillaJS-"keyed"</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-md-6">\n\t\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t\t\t<div class="col-sm-6 smallpad">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\t\t\t\tclass="btn btn-primary btn-block"\n\t\t\t\t\t\t\t\t\t\tid="run"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCreate 1,000 rows\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="col-sm-6 smallpad">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\t\t\t\tclass="btn btn-primary btn-block"\n\t\t\t\t\t\t\t\t\t\tid="runlots"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCreate 10,000 rows\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="col-sm-6 smallpad">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\t\t\t\tclass="btn btn-primary btn-block"\n\t\t\t\t\t\t\t\t\t\tid="add"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAppend 1,000 rows\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="col-sm-6 smallpad">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\t\t\t\tclass="btn btn-primary btn-block"\n\t\t\t\t\t\t\t\t\t\tid="update"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tUpdate every 10th row\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="col-sm-6 smallpad">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\t\t\t\tclass="btn btn-primary btn-block"\n\t\t\t\t\t\t\t\t\t\tid="clear"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="col-sm-6 smallpad">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\t\t\t\tclass="btn btn-primary btn-block"\n\t\t\t\t\t\t\t\t\t\tid="swaprows"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSwap Rows\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<table class="table table-hover table-striped test-data">\n\t\t\t\t\t<tbody id="tbody"></tbody>\n\t\t\t\t</table>\n\t\t\t\t<span\n\t\t\t\t\tclass="preloadicon glyphicon glyphicon-remove"\n\t\t\t\t\taria-hidden="true"\n\t\t\t\t></span>\n\t\t\t</div>\n\t\t',t.addEventListener("click",t=>{if(t.target.matches("#add"))t.preventDefault(),this.add();else if(t.target.matches("#run"))t.preventDefault(),this.run();else if(t.target.matches("#update"))t.preventDefault(),this.update();else if(t.target.matches("#runlots"))t.preventDefault(),this.runLots();else if(t.target.matches("#clear"))t.preventDefault(),this.clear();else if(t.target.matches("#swaprows"))t.preventDefault(),this.swapRows();else if(t.target.matches(".remove")){t.preventDefault();let e=a(t.target),n=this.data.findIndex(t=>t.id===e);this.delete(n)}else if(t.target.matches(".lbl")){t.preventDefault();let e=a(t.target),n=this.data.findIndex(t=>t.id===e);this.select(n)}}),this.tbody=document.getElementById("tbody")}run(){this.removeAllRows(),this.data=[],this.appendRows(s(1e3)),this.unselect()}add(){this.appendRows(s(1e3))}update(){for(let t=0;t<this.data.length;t+=10)this.data[t].label+=" !!!",this.tbody.childNodes[t].firstChild.nextSibling.firstChild.firstChild.data=this.data[t].label}unselect(){void 0!==this.selectedRow&&(this.selectedRow.className="",this.selectedRow=void 0)}select(t){this.unselect(),this.selectedRow=this.tbody.childNodes[t],this.selectedRow.className="danger"}delete(t){this.tbody.childNodes[t].remove(),this.data.splice(t,1)}removeAllRows(){this.tbody.textContent=""}runLots(){this.removeAllRows(),this.data=[],this.appendRows(s(1e4)),this.unselect()}clear(){this.data=[],this.removeAllRows(),this.unselect()}swapRows(){if(this.data.length>998){let t=this.data[998];this.data[998]=this.data[1],this.data[1]=t;let e=this.tbody.firstChild.nextSibling,n=e.nextSibling,s=this.tbody.childNodes[998],a=s.nextSibling;this.tbody.insertBefore(s,n),this.tbody.insertBefore(e,a)}}appendRows(t){var e=this.tbody;for(let n=0,s=t.length;n<s;n++)e.appendChild(this.createRow(t[n])),this.data.push(t[n])}createRow(t){const n=e.cloneNode(!0),s=n.firstChild,a=s.nextSibling.firstChild;return n.data_id=t.id,s.textContent=t.id,a.textContent=t.label,n}};
