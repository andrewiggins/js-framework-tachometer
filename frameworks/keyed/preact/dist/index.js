function t(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var n,o,l,s,r,i,a={},u=[],_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function c(t,e){for(var n in e)t[n]=e[n];return t}function d(t){var e=t.parentNode;e&&e.removeChild(t)}function p(t,e,n){var o,l=arguments,s={};for(o in e)"key"!==o&&"ref"!==o&&(s[o]=e[o]);if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(l[o]);if(null!=n&&(s.children=n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===s[o]&&(s[o]=t.defaultProps[o]);return h(t,s,e&&e.key,e&&e.ref,null)}function h(t,e,o,l,s){var r={type:t,props:e,key:o,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s};return null==s&&(r.__v=r),n.vnode&&n.vnode(r),r}function f(t){return t.children}function m(t,e){this.props=t,this.context=e}function v(t,e){if(null==e)return t.__?v(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?v(t):null}function y(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return y(t)}}function b(t){(!t.__d&&(t.__d=!0)&&o.push(t)&&!l++||r!==n.debounceRendering)&&((r=n.debounceRendering)||s)(k)}function k(){for(var t;l=o.length;)t=o.sort((function(t,e){return t.__v.__b-e.__v.__b})),o=[],t.some((function(t){var e,n,o,l,s,r,i;t.__d&&(r=(s=(e=t).__v).__e,(i=e.__P)&&(n=[],(o=c({},s)).__v=o,l=D(i,s,o,e.__n,void 0!==i.ownerSVGElement,null,n,null==r?v(s):r),x(n,s),l!=r&&y(s)))}))}function g(t,e,n,o,l,s,r,i,_){var c,p,h,f,m,y,b,k=n&&n.__k||u,g=k.length;if(i==a&&(i=null!=s?s[0]:g?v(n,0):null),c=0,e.__k=w(e.__k,(function(n){if(null!=n){if(n.__=e,n.__b=e.__b+1,null===(h=k[c])||h&&n.key==h.key&&n.type===h.type)k[c]=void 0;else for(p=0;p<g;p++){if((h=k[p])&&n.key==h.key&&n.type===h.type){k[p]=void 0;break}h=null}if(f=D(t,n,h=h||a,o,l,s,r,i,_),(p=n.ref)&&h.ref!=p&&(b||(b=[]),h.ref&&b.push(h.ref,null,n),b.push(p,n.__c||f,n)),null!=f){var u;if(null==y&&(y=f),void 0!==n.__d)u=n.__d,n.__d=void 0;else if(s==h||f!=i||null==f.parentNode){t:if(null==i||i.parentNode!==t)t.appendChild(f),u=null;else{for(m=i,p=0;(m=m.nextSibling)&&p<g;p+=2)if(m==f)break t;t.insertBefore(f,i),u=i}"option"==e.type&&(t.value="")}i=void 0!==u?u:f.nextSibling,"function"==typeof e.type&&(e.__d=i)}else i&&h.__e==i&&i.parentNode!=t&&(i=v(h))}return c++,n})),e.__e=y,null!=s&&"function"!=typeof e.type)for(c=s.length;c--;)null!=s[c]&&d(s[c]);for(c=g;c--;)null!=k[c]&&E(k[c],k[c]);if(b)for(c=0;c<b.length;c++)L(b[c],b[++c],b[++c])}function w(t,e,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)e&&n.push(e(null));else if(Array.isArray(t))for(var o=0;o<t.length;o++)w(t[o],e,n);else n.push(e?e("string"==typeof t||"number"==typeof t?h(null,t,null,null,t):null!=t.__e||null!=t.__c?h(t.type,t.props,t.key,null,t.__v):t):t);return n}function N(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===_.test(e)?n+"px":null==n?"":n}function C(t,e,n,o,l){var s,r,i,a,u;if(l?"className"===e&&(e="class"):"class"===e&&(e="className"),"style"===e)if(s=t.style,"string"==typeof n)s.cssText=n;else{if("string"==typeof o&&(s.cssText="",o=null),o)for(a in o)n&&a in n||N(s,a,"");if(n)for(u in n)o&&n[u]===o[u]||N(s,u,n[u])}else"o"===e[0]&&"n"===e[1]?(r=e!==(e=e.replace(/Capture$/,"")),i=e.toLowerCase(),e=(i in t?i:e).slice(2),n?(o||t.addEventListener(e,S,r),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,S,r)):"list"!==e&&"tagName"!==e&&"form"!==e&&"type"!==e&&"size"!==e&&!l&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function S(t){this.l[t.type](n.event?n.event(t):t)}function D(t,e,o,l,s,r,i,a,u){var _,d,p,h,v,y,b,k,w,N,C=e.type;if(void 0!==e.constructor)return null;(_=n.__b)&&_(e);try{t:if("function"==typeof C){if(k=e.props,w=(_=C.contextType)&&l[_.__c],N=_?w?w.props.value:_.__:l,o.__c?b=(d=e.__c=o.__c).__=d.__E:("prototype"in C&&C.prototype.render?e.__c=d=new C(k,N):(e.__c=d=new m(k,N),d.constructor=C,d.render=U),w&&w.sub(d),d.props=k,d.state||(d.state={}),d.context=N,d.__n=l,p=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=C.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=c({},d.__s)),c(d.__s,C.getDerivedStateFromProps(k,d.__s))),h=d.props,v=d.state,p)null==C.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==C.getDerivedStateFromProps&&k!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(k,N),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(k,d.__s,N)||e.__v===o.__v&&!d.__){for(d.props=k,d.state=d.__s,e.__v!==o.__v&&(d.__d=!1),d.__v=e,e.__e=o.__e,e.__k=o.__k,d.__h.length&&i.push(d),_=0;_<e.__k.length;_++)e.__k[_]&&(e.__k[_].__=e);break t}null!=d.componentWillUpdate&&d.componentWillUpdate(k,d.__s,N),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,v,y)}))}d.context=N,d.props=k,d.state=d.__s,(_=n.__r)&&_(e),d.__d=!1,d.__v=e,d.__P=t,_=d.render(d.props,d.state,d.context),e.__k=null!=_&&_.type==f&&null==_.key?_.props.children:Array.isArray(_)?_:[_],null!=d.getChildContext&&(l=c(c({},l),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(y=d.getSnapshotBeforeUpdate(h,v)),g(t,e,o,l,s,r,i,a,u),d.base=e.__e,d.__h.length&&i.push(d),b&&(d.__E=d.__=null),d.__e=!1}else null==r&&e.__v===o.__v?(e.__k=o.__k,e.__e=o.__e):e.__e=P(o.__e,e,o,l,s,r,i,u);(_=n.diffed)&&_(e)}catch(t){e.__v=null,n.__e(t,e,o)}return e.__e}function x(t,e){n.__c&&n.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){n.__e(t,e.__v)}}))}function P(t,e,n,o,l,s,r,i){var _,c,d,p,h,f=n.props,m=e.props;if(l="svg"===e.type||l,null!=s)for(_=0;_<s.length;_++)if(null!=(c=s[_])&&((null===e.type?3===c.nodeType:c.localName===e.type)||t==c)){t=c,s[_]=null;break}if(null==t){if(null===e.type)return document.createTextNode(m);t=l?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,m.is&&{is:m.is}),s=null,i=!1}if(null===e.type)f!==m&&t.data!=m&&(t.data=m);else{if(null!=s&&(s=u.slice.call(t.childNodes)),d=(f=n.props||a).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!i){if(f===a)for(f={},h=0;h<t.attributes.length;h++)f[t.attributes[h].name]=t.attributes[h].value;(p||d)&&(p&&d&&p.__html==d.__html||(t.innerHTML=p&&p.__html||""))}(function(t,e,n,o,l){var s;for(s in n)"children"===s||"key"===s||s in e||C(t,s,null,n[s],o);for(s in e)l&&"function"!=typeof e[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===e[s]||C(t,s,e[s],n[s],o)})(t,m,f,l,i),p?e.__k=[]:(e.__k=e.props.children,g(t,e,n,o,"foreignObject"!==e.type&&l,s,r,a,i)),i||("value"in m&&void 0!==(_=m.value)&&_!==t.value&&C(t,"value",_,f.value,!1),"checked"in m&&void 0!==(_=m.checked)&&_!==t.checked&&C(t,"checked",_,f.checked,!1))}return t}function L(t,e,o){try{"function"==typeof t?t(e):t.current=e}catch(t){n.__e(t,o)}}function E(t,e,o){var l,s,r;if(n.unmount&&n.unmount(t),(l=t.ref)&&(l.current&&l.current!==t.__e||L(l,null,e)),o||"function"==typeof t.type||(o=null!=(s=t.__e)),t.__e=t.__d=void 0,null!=(l=t.__c)){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(t){n.__e(t,e)}l.base=l.__P=null}if(l=t.__k)for(r=0;r<l.length;r++)l[r]&&E(l[r],e,o);null!=s&&d(s)}function U(t,e,n){return this.constructor(t,n)}n={__e:function(t,e){for(var n,o;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(o=!0,n.setState(n.constructor.getDerivedStateFromError(t))),null!=n.componentDidCatch&&(o=!0,n.componentDidCatch(t)),o)return b(n.__E=n)}catch(e){t=e}throw t}},m.prototype.setState=function(t,e){var n;n=this.__s!==this.state?this.__s:this.__s=c({},this.state),"function"==typeof t&&(t=t(n,this.props)),t&&c(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),b(this))},m.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),b(this))},m.prototype.render=f,o=[],l=0,s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=a;var R=function(n){function o(t){var o;return(o=n.call(this,t)||this).onDelete=o.onDelete.bind(e(o)),o.onClick=o.onClick.bind(e(o)),o}t(o,n);var l=o.prototype;return l.shouldComponentUpdate=function(t,e){return t.data!==this.props.data||t.styleClass!==this.props.styleClass},l.onDelete=function(){this.props.onDelete(this.props.data.id)},l.onClick=function(){this.props.onClick(this.props.data.id)},l.render=function(){var t=this.props,e=t.styleClass,n=(t.onClick,t.onDelete,t.data);return p("tr",{className:e},p("td",{className:"col-md-1"},n.id),p("td",{className:"col-md-4"},p("a",{onClick:this.onClick},n.label)),p("td",{className:"col-md-1"},p("a",{onClick:this.onDelete},p("span",{className:"glyphicon glyphicon-remove","aria-hidden":"true"}))),p("td",{className:"col-md-6"}))},o}(m);function M(t){return Math.round(1e3*Math.random())%t}var T=function(){function t(){this.data=[],this.selected=void 0,this.id=1}var e=t.prototype;return e.buildData=function(t){void 0===t&&(t=1e3);for(var e=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],n=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],o=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],l=[],s=0;s<t;s++)l.push({id:this.id++,label:e[M(e.length)]+" "+n[M(n.length)]+" "+o[M(o.length)]});return l},e.updateData=function(t){for(var e=0;e<this.data.length;e+=10)this.data[e]=Object.assign({},this.data[e],{label:this.data[e].label+" !!!"})},e.delete=function(t){var e=this.data.findIndex((function(e){return e.id===t}));this.data.splice(e,1)},e.run=function(){this.data=this.buildData(),this.selected=void 0},e.add=function(){this.data=this.data.concat(this.buildData(1e3))},e.update=function(){this.updateData()},e.select=function(t){this.selected=t},e.runLots=function(){this.data=this.buildData(1e4),this.selected=void 0},e.clear=function(){this.data=[],this.selected=void 0},e.swapRows=function(){if(this.data.length>998){var t=this.data[1];this.data[1]=this.data[998],this.data[998]=t}},t}(),A=function(n){function o(t){var o;return(o=n.call(this,t)||this).state={store:new T},o.select=o.select.bind(e(o)),o.delete=o.delete.bind(e(o)),o.add=o.add.bind(e(o)),o.run=o.run.bind(e(o)),o.update=o.update.bind(e(o)),o.runLots=o.runLots.bind(e(o)),o.clear=o.clear.bind(e(o)),o.swapRows=o.swapRows.bind(e(o)),o.start=0,o.length=0,window.app=e(o),o}t(o,n);var l=o.prototype;return l.run=function(){this.state.store.run(),this.setState({store:this.state.store})},l.add=function(){this.state.store.add(),this.setState({store:this.state.store})},l.update=function(){this.state.store.update(),this.setState({store:this.state.store})},l.select=function(t){this.state.store.select(t),this.setState({store:this.state.store})},l.delete=function(t){this.state.store.delete(t),this.setState({store:this.state.store})},l.runLots=function(){this.state.store.runLots(),this.setState({store:this.state.store})},l.clear=function(){this.state.store.clear(),this.setState({store:this.state.store})},l.swapRows=function(){this.state.store.swapRows(),this.setState({store:this.state.store})},l.render=function(){var t=this,e=this.state.store.data.map((function(e,n){return p(R,{key:e.id,data:e,onClick:t.select,onDelete:t.delete,styleClass:e.id===t.state.store.selected?"danger":""})}));return p("div",{className:"container"},p("div",{className:"jumbotron"},p("div",{className:"row"},p("div",{className:"col-md-6"},p("h1",null,"preact")),p("div",{className:"col-md-6"},p("div",{className:"row"},p("div",{className:"col-sm-6 smallpad"},p("button",{type:"button",className:"btn btn-primary btn-block",id:"run",onClick:this.run},"Create 1,000 rows")),p("div",{className:"col-sm-6 smallpad"},p("button",{type:"button",className:"btn btn-primary btn-block",id:"runlots",onClick:this.runLots},"Create 10,000 rows")),p("div",{className:"col-sm-6 smallpad"},p("button",{type:"button",className:"btn btn-primary btn-block",id:"add",onClick:this.add},"Append 1,000 rows")),p("div",{className:"col-sm-6 smallpad"},p("button",{type:"button",className:"btn btn-primary btn-block",id:"update",onClick:this.update},"Update every 10th row")),p("div",{className:"col-sm-6 smallpad"},p("button",{type:"button",className:"btn btn-primary btn-block",id:"clear",onClick:this.clear},"Clear")),p("div",{className:"col-sm-6 smallpad"},p("button",{type:"button",className:"btn btn-primary btn-block",id:"swaprows",onClick:this.swapRows},"Swap Rows")))))),p("table",{className:"table table-hover table-striped test-data"},p("tbody",null,e)),p("span",{className:"preloadicon glyphicon glyphicon-remove","aria-hidden":"true"}))},o}(m);!function(t,e,o){var l,s,r;n.__&&n.__(t,e),s=(l=o===i)?null:o&&o.__k||e.__k,t=p(f,null,[t]),r=[],D(e,(l?e:o||e).__k=t,s||a,a,void 0!==e.ownerSVGElement,o&&!l?[o]:s?null:u.slice.call(e.childNodes),r,o||a,l),x(r,t)}(p(A,null),document.getElementById("main"));export{A as Main};